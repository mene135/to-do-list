(()=>{"use strict";const e=document.querySelector(".themeToggle"),t=document.querySelector("body"),n=document.querySelector(".menuToggle"),a=document.querySelector(".l-mainNav");function d(){a.classList.contains("nav-expanded-vertical")||!1===a.classList.contains("nav-hidden-horizontal")&&document.documentElement.clientWidth>425?n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}const s=document.querySelector(".displayTab");function o(){const e=document.createElement("form"),t=document.createElement("label"),n=document.createElement("input"),a=document.createElement("label"),d=document.createElement("textArea"),o=document.createElement("label"),i=document.createElement("input");t.textContent="Title:",a.textContent="Details(optional):",o.textContent="Date due:",n.classList.add("taskForm-input","taskForm-title"),d.classList.add("taskForm-textArea","taskForm-details"),i.classList.add("taskForm-input","taskForm-date"),n.setAttribute("type","text"),i.setAttribute("type","date"),n.setAttribute("required",""),i.setAttribute("required",""),d.setAttribute("rows","3"),n.setAttribute("placeHolder","What to do?"),d.setAttribute("placeHolder","e.g: How will i do it"),t.appendChild(n),a.appendChild(d),o.appendChild(i);const l=document.createElement("div"),r=document.createElement("button"),u=document.createElement("button");r.classList.add("addButton"),u.classList.add("cancelButton"),r.textContent="Add",u.textContent="Cancel",l.appendChild(r),l.appendChild(u),l.classList.add("buttonContainer"),e.classList.add("displayTab-taskMakerForm","is-hidden"),e.appendChild(t),e.appendChild(a),e.appendChild(o),e.appendChild(l),s.insertBefore(e,document.querySelector(".displayTab-addTaskBtn")),r.addEventListener("click",(e=>{e.preventDefault();let t=n.value,a=d.value,s=i.value;""!==t?(""===s&&(s="No due date"),console.log(t),u.click(),c(t,a,s,0,0,function(){let e=document.querySelector(".is-active").getAttribute("data-project-index"),t=y[e].tabTasks,n=0,a=!1;for(;!1===a;){if(void 0===t[n])return a=!0,n;n++}}())):alert("You must fill out the Title field")})),u.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("is-hidden")}))}function i(){const e=document.createElement("button");e.textContent="Add task",e.classList.add("displayTab-addTaskBtn"),s.appendChild(e),e.addEventListener("click",(()=>{let e=document.querySelector(".displayTab-taskMakerForm");!1!==e.classList.contains("is-hidden")?e.classList.toggle("is-hidden"):alert("Finish the form you started")}))}class l{constructor(e,t,n,a,d,s){this.title=e,this.details=t,this.date=n,this.important=a,this.checked=d,this.index=s}}function c(e,t,n,a,d,s){const o=document.querySelector(".displayTab-tasksContainer"),i=document.createElement("li");i.classList.add("task");const l=document.createElement("button"),c=document.createElement("i"),r=document.createElement("i");l.classList.add("task-checkedCircleBtn"),c.classList.add("fa-regular","fa-circle"),r.classList.add("fa-solid","fa-circle-check"),c.style.color="var(--primary)",r.style.display="none",r.style.color="var(--secondary)",l.appendChild(c),l.appendChild(r),i.appendChild(l),i.setAttribute("data-task-index",`${s}`);const u=document.createElement("div"),p=document.createElement("h4"),m=document.createElement("p"),h=document.createElement("div");u.classList.add("taskText"),p.classList.add("task-title"),m.classList.add("task-details"),h.classList.add("task-date"),p.textContent=`${e}`,""!==t&&(m.textContent=`${t}`),h.textContent=`${n}`,u.appendChild(p),u.appendChild(m),i.appendChild(u),i.appendChild(h);const E=document.createElement("button"),L=document.createElement("i"),k=document.createElement("i");E.classList.add("task-important"),L.classList.add("fa-regular","fa-star","emptyStar"),k.classList.add("fa-solid","fa-star","yellowStar"),L.style.color="var(--primary)",k.style.color="#f1bf13",k.style.display="none",E.appendChild(L),E.appendChild(k),i.appendChild(E);const C=document.createElement("button"),b=document.createElement("i");C.classList.add("taskOptionsBtn"),b.classList.add("fa-solid","fa-ellipsis-vertical"),C.appendChild(b),i.appendChild(C);const v=document.createElement("ul"),f=document.createElement("li"),g=document.createElement("li"),x=document.createElement("button"),S=document.createElement("button");v.classList.add("task-optionsContainer","task-optionsContainer-isHidden"),x.textContent="MODIFY",S.textContent="DELETE",x.classList.add("taskOptions-modifyBtn"),S.classList.add("taskOptions-deleteBtn"),f.appendChild(x),g.appendChild(S),v.appendChild(f),v.appendChild(g),C.appendChild(v),l.addEventListener("click",(()=>{console.log("circle working right now"),"none"===c.style.display?(c.style.display="inline",r.style.display="none"):(c.style.display="none",r.style.display="inline")})),E.addEventListener("click",(()=>{"none"===L.style.display?(L.style.display="inline",k.style.display="none"):(L.style.display="none",k.style.display="inline")})),C.addEventListener("click",(()=>{v.classList.toggle("task-optionsContainer-isHidden")})),C.addEventListener("blur",(()=>{const e=t=>{v.classList.contains("task-optionsContainer-isHidden")||x===t.target&&S===t.target||(v.classList.add("task-optionsContainer-isHidden"),document.removeEventListener("click",e))};document.addEventListener("click",e)})),S.addEventListener("click",(()=>{let e=i.getAttribute("data-task-index"),t=document.querySelector(".is-active").getAttribute("data-project-index");console.log(t),y[t].tabTasks.splice(e,1),o.removeChild(i),function(){let e=document.querySelector(".is-active").getAttribute("data-project-index"),t=0;y[e].tabTasks.forEach((e=>{e.index=`${t}`,t++}));let n=document.querySelector(".displayTab-tasksContainercd").childNodes,a=0;n.forEach((e=>{e.setAttribute("data-task-index",`${a}`),a++}))}()})),o.appendChild(i)}const r=document.querySelector(".projectSection"),u=document.querySelector(".projectSection-addProjectButton"),p=document.querySelector(".projectSection-content");function m(e,t){e=e.charAt(0).toUpperCase()+e.slice(1);const n=document.createElement("li"),a=document.createElement("button"),d=document.createElement("i"),s=document.createElement("span"),l=document.createElement("button"),r=document.createElement("span"),u=document.createElement("i");n.classList.add("project"),a.classList.add("project-button","tab"),d.classList.add("fa-solid","fa-bars"),s.classList.add("project-name"),l.classList.add("project-optionsBtn"),r.classList.add("is-visually-hidden"),u.classList.add("fa-solid","fa-ellipsis-vertical","project-optionsIcon"),a.setAttribute("data-project-index",`${t}`),l.setAttribute("tabIndex","0"),l.setAttribute("aria-controls","options"),s.textContent=e,r.textContent="Options",l.appendChild(u),l.appendChild(r),a.appendChild(d),a.appendChild(s),a.appendChild(l),n.appendChild(a),p.appendChild(n),a.addEventListener("click",(()=>{b(a,!0),i(),o(),function(){let e=document.querySelector(".is-active").getAttribute("data-project-index");0!==y[e].tabTasks.length&&y[e].tabTasks.forEach((e=>{c(e.title,e.details,e.date,e.important,e.checked,e.index)}))}()}));const m=document.createElement("ul"),h=document.createElement("li"),E=document.createElement("li"),L=document.createElement("button"),k=document.createElement("button");L.textContent="MODIFY",k.textContent="DELETE",m.classList.add("project-options","project-options-isHidden"),m.setAttribute("id","options"),L.classList.add("project-modifyOptionBtn"),h.appendChild(L),E.appendChild(k),m.appendChild(h),m.appendChild(E),a.appendChild(m),l.addEventListener("click",(()=>{m.classList.toggle("project-options-isHidden")})),l.addEventListener("blur",(()=>{const e=t=>{m.classList.contains("project-options-isHidden")||L===t.target&&k===t.target||(m.classList.add("project-options-isHidden"),document.removeEventListener("click",e))};document.addEventListener("click",e)}));const C=document.createElement("input");C.classList.add("project-modifyInput"),C.setAttribute("aria-label","Enter new project name, text input"),C.value=s.textContent,C.style.display="none";const v=document.createElement("div"),f=document.createElement("button"),g=document.createElement("button");f.textContent="RENAME",g.textContent="CANCEL",v.classList.add("project-modifyButtons"),f.classList.add("addButton"),g.classList.add("cancelButton"),v.appendChild(f),v.appendChild(g),n.appendChild(v),v.style.display="none",a.insertBefore(C,l),L.addEventListener("click",(()=>{l.disabled=!0,C.style.display="block",s.style.display="none",v.style.display="flex",C.value=s.textContent,n.classList.add("project-isModifyState"),a.classList.add("project-button-isModifyState"),C.focus()})),f.addEventListener("click",(t=>{var n,d;e=(e=C.value).charAt(0).toUpperCase()+e.slice(1),t.stopPropagation(),""!==e?(s.style.display="inline-block",s.textContent=e,g.click(),n=e,d=a.getAttribute("data-project-index"),y[d].tabName=n,console.log(y)):alert("The project name cannot be empty")})),g.addEventListener("click",(()=>{s.style.display="inline-block",C.style.display="none",v.style.display="none",n.classList.remove("project-isModifyState"),a.classList.remove("project-button-isModifyState"),l.disabled=!1,a.click()})),k.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this project")&&(y.splice(a.getAttribute("data-project-index"),1),p.removeChild(n),function(){console.log("hello gusy");let e=document.querySelectorAll("[data-project-index]");console.log(e);let t=0;e.forEach((e=>{console.log("it does not work"),e.setAttribute("data-project-index",`${t}`),t++}))}(),console.log(y))})),C.addEventListener("keydown",(e=>{"Enter"===e.key?f.click():"Escape"===e.key&&g.click()})),b(a,!1),i(),o()}const y=[],h=document.querySelector(".displayTab");let E=document.querySelectorAll(".tab");function L(e){const t=document.createElement("div");t.classList.add("displayTab-title");const n=document.createElement("h3");n.textContent=e,n.classList.add("displayTab-title-heading");const a=document.createElement("ul");a.classList.add("displayTab-tasksContainer"),t.appendChild(n),h.appendChild(t),h.appendChild(a)}function k(){h.innerHTML=""}function C(e){E=document.querySelectorAll(".tab");let t=document.querySelector(".is-active");t!==e&&(E.forEach((t=>{e!==t||t.classList.add("is-active")})),null!==t&&t.classList.remove("is-active"))}function b(e,t){0==t?(C(e),k(),L(e.childNodes[1].textContent)):(document.querySelector(".is-active").classList.contains("project-button")&&function(){let e=document.querySelector(".displayTab-tasksContainer");console.log(e.childNodes);let t=e.childNodes,n=document.querySelector(".is-active").getAttribute("data-project-index");console.log(y),y[n].tabTasks=[],t.forEach((e=>{let t=e.querySelector(".task-title").textContent,a=e.querySelector(".task-details").textContent,d=e.querySelector(".task-date").textContent,s=e.querySelector(".task-important"),o=e.querySelector(".task-checkedCircleBtn"),i=new l(t,a,d,s,o);y[n].tabTasks.push(i),console.log(y)}))}(),C(e),k(),L(e.childNodes[1].textContent))}class v{constructor(e,t){this.tabName=e,this.tabTasks=t}}e.addEventListener("click",(function(){t.classList.toggle("darkTheme")})),n.addEventListener("click",(function(){document.documentElement.clientWidth<=425&&(a.classList.toggle("nav-expanded-vertical"),a.classList.remove("nav-hidden-horizontal"),d()),document.documentElement.clientWidth>425&&(a.classList.toggle("nav-hidden-horizontal"),a.classList.remove("nav-expanded-vertical"),d())})),u.addEventListener("click",(()=>{if("block"===document.querySelector(".addProjectForm").style.display)return alert("You must finish the previous form"),void document.querySelector(".addProjectForm-input").focus();document.querySelector(".addProjectForm").style.display="block",document.querySelector(".addProjectForm-input").focus()})),E.forEach((e=>{e.addEventListener("click",(()=>{b(e)}))})),window.onload=()=>{"dark"===localStorage.getItem("theme")?t.classList.add("darkTheme"):t.classList.remove("darkTheme"),function(){let e=JSON.parse(localStorage.getItem("Projects"));for(let t=0;t<e.length;t++)y.push(e[t]);for(let e=0;e<y.length;e++)m(y[e].tabName,e)}(),d(),function(){const e=document.createElement("form"),t=document.createElement("label"),n=document.createElement("input"),a=document.createElement("button"),d=document.createElement("button"),s=document.createElement("div");t.setAttribute("for","projectNameInput"),t.textContent="Enter projects name",n.setAttribute("type","text"),n.setAttribute("placeholder","Project Name"),n.setAttribute("maxlength","20"),n.setAttribute("id","projectNameInput"),e.classList.add("addProjectForm"),t.classList.add("is-visually-hidden"),n.classList.add("addProjectForm-input"),s.classList.add("buttonContainer"),a.classList.add("addButton"),d.classList.add("cancelButton"),a.textContent="ADD",d.textContent="Cancel",e.style.display="none",s.appendChild(a),s.appendChild(d),e.appendChild(t),e.appendChild(n),e.appendChild(s),r.insertBefore(e,u),n.addEventListener("keydown",(e=>{"Enter"===e.key?(e.preventDefault(),a.click()):"Escape"===e.key&&d.click()})),a.addEventListener("click",(t=>{if(t.preventDefault(),""===n.value)return void alert("The project name cannot be empty");m(n.value,function(){const e=document.querySelectorAll("[data-project-index]");let t=!1,n=0;for(;!1===t;)void 0===e[n]?t=!0:n++;return n}());let a=new v(n.value,[]);y.push(a),e.style.display="none",n.value=""})),d.addEventListener("click",(e=>{e.preventDefault(),n.style.display="none"}))}(),document.querySelector(".homeBtn").click()},window.addEventListener("beforeunload",(()=>{t.classList.contains("darkTheme")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),console.log("123"),console.log(y),localStorage.setItem("Projects",JSON.stringify(y))}))})();
//# sourceMappingURL=bundle.js.map