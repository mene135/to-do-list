(()=>{"use strict";const t=document.querySelector(".themeToggle"),e=document.querySelector("body"),n=document.querySelector(".menuToggle"),a=document.querySelector(".l-mainNav");function s(){a.classList.contains("nav-expanded-vertical")||!1===a.classList.contains("nav-hidden-horizontal")&&document.documentElement.clientWidth>425?n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}Math.pow(10,8);const o=36e5;function d(t){const e=t/o;return Math.trunc(e)}function i(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}let c={};function l(){return c}function r(t,e){const n=l(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=i(t),o=s.getDay(),d=(o<a?7:0)+o-a;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}const u=[],p=[],m=[],h=[],k=[];function b(t){document.querySelector(".toastNt-message").textContent=`${t}`}function f(){console.log("toast is being activated");const t=document.querySelector(".toastNt");t.classList.add("toastNt-isActive"),setTimeout((()=>{t.classList.remove("toastNt-isActive")}),3e3)}const L=document.querySelector(".l-displayTab");class y{constructor(t,e,n,a,s,o){this.title=t,this.details=e,this.date=n,this.important=a,this.checked=s,this.index=o}}function C(){const t=document.createElement("button");t.textContent="Add task",t.classList.add("tab-addTaskBtn"),L.appendChild(t),t.addEventListener("click",(()=>{const t=document.querySelector(".taskMakerForm");if(!1===t.classList.contains("is-hidden"))return b("Finish the form you started"),void f();t.classList.toggle("is-hidden")}))}function E(t,e,n,a,s,o){const d=document.querySelector(".tab-tasksContainer"),i=document.createElement("li");let c=s,l=a;i.classList.add("task");const r=document.createElement("button"),p=document.createElement("i"),m=document.createElement("i"),h=document.createElement("span");r.classList.add("task-checkedCircleBtn"),p.classList.add("fa-regular","fa-circle"),m.classList.add("fa-solid","fa-circle-check"),h.classList.add("is-visually-hidden"),p.style.color="var(--primary)",m.style.color="var(--secondary)",r.appendChild(p),r.appendChild(m),r.appendChild(h),i.appendChild(r),i.setAttribute("data-task-index",`${o}`);const k=document.createElement("div"),b=document.createElement("h4"),f=document.createElement("p"),L=document.createElement("div");k.classList.add("taskText"),b.classList.add("task-title"),f.classList.add("task-details"),L.classList.add("task-date"),b.textContent=`${t}`,""!==e&&(f.textContent=`${e}`),L.textContent=`${n}`,k.appendChild(b),k.appendChild(f),i.appendChild(k),i.appendChild(L);const y=document.createElement("button"),C=document.createElement("i"),E=document.createElement("i"),v=document.createElement("span");y.classList.add("task-important"),C.classList.add("fa-regular","fa-star","emptyStar"),E.classList.add("fa-solid","fa-star","yellowStar"),v.classList.add("is-visually-hidden"),C.style.color="var(--primary)",E.style.color="#f1bf13",!0===l?(C.style.display="none",v.textContent="Important"):(E.style.display="none",v.textContent="Not Important"),!0===c?(p.style.display="none",r.setAttribute("aria-pressed","true"),h.textContent="Checked",b.classList.add("task-crossedOut"),f.classList.add("task-crossedOut")):(m.style.display="none",r.setAttribute("aria-pressed","false"),h.textContent="Unchecked",b.classList.remove("task-crossedOut"),f.classList.remove("task-crossedOut")),y.appendChild(C),y.appendChild(E),y.appendChild(v),i.appendChild(y);const g=document.createElement("button"),x=document.createElement("i");g.classList.add("taskOptionsBtn"),x.classList.add("fa-solid","fa-ellipsis-vertical"),g.appendChild(x),i.appendChild(g);const S=document.createElement("ul"),T=document.createElement("li"),A=document.createElement("li"),j=document.createElement("button"),q=document.createElement("button");S.classList.add("task-optionsContainer","task-optionsContainer-isHidden"),j.textContent="MODIFY",q.textContent="DELETE",j.classList.add("taskOptions-modifyBtn"),q.classList.add("taskOptions-deleteBtn"),T.appendChild(j),A.appendChild(q),S.appendChild(T),S.appendChild(A),g.appendChild(S),i.addEventListener("mousedown",(()=>{i.classList.add("task-shrink")})),i.addEventListener("mouseup",(()=>{i.classList.remove("task-shrink")})),i.addEventListener("mouseout",(()=>{i.classList.remove("task-shrink")})),r.addEventListener("click",(()=>{if(!0===c){p.style.display="inline",m.style.display="none",r.setAttribute("aria-pressed","false"),h.textContent="Unchecked",c=!1;for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)u[t].tabTasks[e].index===o&&(u[t].tabTasks[e].checked=!1);b.classList.remove("task-crossedOut"),f.classList.remove("task-crossedOut")}else{p.style.display="none",m.style.display="inline",r.setAttribute("aria-pressed","true"),h.textContent="Checked",c=!0;for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)u[t].tabTasks[e].index===o&&(u[t].tabTasks[e].checked=!0);b.classList.add("task-crossedOut"),f.classList.add("task-crossedOut")}})),y.addEventListener("click",(()=>{if(!0===l){C.style.display="inline",E.style.display="none",v.textContent="Important",l=!1;for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)u[t].tabTasks[e].index===o&&(u[t].tabTasks[e].important=!1)}else{C.style.display="none",E.style.display="inline",v.textContent="Not important",l=!0;for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)u[t].tabTasks[e].index===o&&(u[t].tabTasks[e].important=!0)}})),g.addEventListener("click",(()=>{S.classList.toggle("task-optionsContainer-isHidden")})),g.addEventListener("blur",(()=>{const t=e=>{S.classList.contains("task-optionsContainer-isHidden")||j===e.target&&q===e.target||(S.classList.add("task-optionsContainer-isHidden"),document.removeEventListener("click",t))};document.addEventListener("click",t)})),q.addEventListener("click",(()=>{for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)u[t].tabTasks[e].index===o&&u[t].tabTasks.splice(e,1);d.removeChild(i),function(t){for(let e=0;e<u.length;e+=1)for(let n=0;n<u[e].tabTasks.length;n+=1)t<=u[e].tabTasks[n].index&&(u[e].tabTasks[n].index-=1)}(o),document.querySelector(".is-active").click()})),T.addEventListener("click",(()=>{!function(t){t.style.display="none";const e=document.createElement("form"),n=document.createElement("label"),a=document.createElement("input"),s=document.createElement("label"),o=document.createElement("textArea"),d=document.createElement("label"),i=document.createElement("input");n.textContent="Title:",s.textContent="Details(optional):",d.textContent="Date due:",a.classList.add("taskForm-input","taskForm-title"),o.classList.add("taskForm-textArea","taskForm-details"),i.classList.add("taskForm-input","taskForm-date"),a.value=t.querySelector(".task-title").textContent,o.value=t.querySelector(".task-details").textContent,i.value=t.querySelector(".task-date").textContent,a.setAttribute("type","text"),i.setAttribute("type","date"),a.setAttribute("required",""),i.setAttribute("required",""),o.setAttribute("rows","3"),a.setAttribute("placeHolder","What to do?"),o.setAttribute("placeHolder","e.g: How will i do it"),n.appendChild(a),s.appendChild(o),d.appendChild(i);const c=document.createElement("div"),l=document.createElement("button"),r=document.createElement("button");l.classList.add("addButton"),r.classList.add("cancelButton"),l.textContent="Modify",r.textContent="Cancel",c.appendChild(l),c.appendChild(r),c.classList.add("buttonContainer"),e.classList.add("taskMakerForm"),e.appendChild(n),e.appendChild(s),e.appendChild(d),e.appendChild(c),document.querySelector(".tab-tasksContainer").insertBefore(e,t),l.addEventListener("click",(e=>{e.preventDefault();const n=a.value,s=o.value;let d=i.value;""===d&&(d="No due date");const c=parseFloat(t.getAttribute("data-task-index"));for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)if(u[t].tabTasks[e].index===c){const a=u[t].tabTasks[e];a.title=n,a.details=s,a.date=d}document.querySelector(".is-active").click()})),r.addEventListener("click",(t=>{document.querySelector(".is-active").click(),t.preventDefault()}))}(i)})),d.appendChild(i)}function v(){const t=document.createElement("form"),e=document.createElement("label"),n=document.createElement("input"),a=document.createElement("label"),s=document.createElement("textArea"),o=document.createElement("label"),d=document.createElement("input");e.textContent="Title:",a.textContent="Details(optional):",o.textContent="Date due:",n.classList.add("taskForm-input","taskForm-title"),s.classList.add("taskForm-textArea","taskForm-details"),d.classList.add("taskForm-input","taskForm-date"),n.setAttribute("type","text"),d.setAttribute("type","date"),n.setAttribute("required",""),d.setAttribute("required",""),s.setAttribute("rows","3"),n.setAttribute("placeHolder","What to do?"),s.setAttribute("placeHolder","e.g: How will i do it"),e.appendChild(n),a.appendChild(s),o.appendChild(d);const i=document.createElement("div"),c=document.createElement("button"),l=document.createElement("button");c.classList.add("addButton"),l.classList.add("cancelButton"),c.textContent="Add",l.textContent="Cancel",i.appendChild(c),i.appendChild(l),i.classList.add("buttonContainer"),t.classList.add("taskMakerForm","is-hidden"),t.appendChild(e),t.appendChild(a),t.appendChild(o),t.appendChild(i),L.insertBefore(t,document.querySelector(".tab-addTaskBtn")),c.addEventListener("click",(t=>{t.preventDefault();const e=n.value,a=s.value;let o=d.value;const i=function(){let t=0,e=!1;const n=parseInt(document.querySelector(".is-active").getAttribute("data-project-index"),10);for(let a=0;a<u.length;a+=1)if(a===n){let n=0;for(;!1===e;){if(void 0===u[a].tabTasks[n])return e=!0,t;n=1,t+=1}}else for(let e=0;e<u[a].tabTasks.length;e+=1)t+=1}();if(""===e)return b("You must fill out the Title field"),void f();""===o&&(o="No due date"),l.click();const c=document.querySelector(".is-active").getAttribute("data-project-index"),r=new y(e,a,o,!1,!1,i);u[c].tabTasks.push(r),E(e,a,o,!1,!1,i)})),l.addEventListener("click",(e=>{e.preventDefault(),n.value="",s.value="",d.value="",t.classList.toggle("is-hidden")}))}const g=document.querySelector(".l-displayTab");function x(){g.innerHTML=""}function S(t){!function(t){const e=document.querySelector(".is-active"),n=document.querySelectorAll(".js-tab");e!==t&&(n.forEach((e=>{t===e&&e.classList.add("is-active")})),null!==e&&e.classList.remove("is-active"))}(t),x(),function(t){const e=document.createElement("div");e.classList.add("tab-title");const n=t.querySelector("span").textContent,a=document.createElement("h3");a.textContent=n,a.classList.add("tab-title-heading");const s=document.createElement("ul");s.classList.add("tab-tasksContainer"),e.appendChild(a),g.appendChild(e),g.appendChild(s)}(t),function(t){const e=document.querySelector(".is-active");if(null!=e&&(e.classList.contains("homeBtn")&&(e.classList.contains("homeBtn-allTasks")?(function(){for(;0!==p.length;)p.pop();for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)p.push(u[t].tabTasks[e])}(),p.forEach((e=>{t(e.title,e.details,e.date,e.important,e.checked,e.index)}))):e.classList.contains("homeBtn-important")?(function(){for(;0!==m.length;)m.pop();for(let t=0;t<u.length;t+=1)for(let e=0;e<u[t].tabTasks.length;e+=1)!0===u[t].tabTasks[e].important&&m.push(u[t].tabTasks[e])}(),m.forEach((e=>{t(e.title,e.details,e.date,e.important,e.checked,e.index)}))):e.classList.contains("homeBtn-today")?(function(){for(;0!==h.length;)h.pop();let t=new Date;const e=t.getDate(),n=t.getMonth(),a=t.getFullYear();t=new Date(a,n,e);for(let e=0;e<u.length;e+=1)for(let n=0;n<u[e].tabTasks.length;n+=1){const a=d((s=t,+i(u[e].tabTasks[n].date)-+i(s)));a<24&&a>=0&&h.push(u[e].tabTasks[n])}var s}(),h.forEach((e=>{t(e.title,e.details,e.date,e.important,e.checked,e.index)}))):e.classList.contains("homeBtn-thisWeek")&&(function(){for(;0!==k.length;)k.pop();const t=new Date;for(let a=0;a<u.length;a+=1)for(let s=0;s<u[a].tabTasks.length;s+=1)1==(e=t,+r(u[a].tabTasks[s].date,n={weekStartsOn:1})==+r(e,n))&&k.push(u[a].tabTasks[s]);var e,n}(),k.forEach((e=>{t(e.title,e.details,e.date,e.important,e.checked,e.index)})))),e.classList.contains("project-btn"))){const e=document.querySelector(".is-active").getAttribute("data-project-index");if(0===u[e].tabTasks.length)return;u[e].tabTasks.forEach((e=>{t(e.title,e.details,e.date,e.important,e.checked,e.index)}))}}(E)}class T{constructor(t,e){this.tabName=t,this.tabTasks=e}}const A=document.querySelector(".projectSection"),j=document.querySelector(".addProjectBtn"),q=document.querySelector(".js-projectSection-content");function w(t,e){const n=t.charAt(0).toUpperCase()+t.slice(1),a=document.createElement("li"),s=document.createElement("button"),o=document.createElement("i"),d=document.createElement("span"),i=document.createElement("button"),c=document.createElement("span"),l=document.createElement("i");a.classList.add("project"),s.classList.add("project-btn","button-primarySkin","js-tab"),o.classList.add("fa-solid","fa-bars"),d.classList.add("project-name"),i.classList.add("project-optionsBtn"),c.classList.add("is-visually-hidden"),l.classList.add("fa-solid","fa-ellipsis-vertical","project-optionsIcon"),s.setAttribute("data-project-index",`${e}`),i.setAttribute("tabIndex","0"),i.setAttribute("aria-controls","options"),d.textContent=n,c.textContent="Options",i.appendChild(l),i.appendChild(c),s.appendChild(o),s.appendChild(d),s.appendChild(i),a.appendChild(s),q.appendChild(a),s.addEventListener("click",(()=>{S(s),C(),v()}));const r=document.createElement("ul"),p=document.createElement("li"),m=document.createElement("li"),h=document.createElement("button"),k=document.createElement("button");h.textContent="MODIFY",k.textContent="DELETE",r.classList.add("project-options","project-options-isHidden"),r.setAttribute("id","options"),h.classList.add("project-modifyOptionBtn"),p.appendChild(h),m.appendChild(k),r.appendChild(p),r.appendChild(m),s.appendChild(r),i.addEventListener("click",(()=>{r.classList.toggle("project-options-isHidden")})),i.addEventListener("blur",(()=>{const t=e=>{r.classList.contains("project-options-isHidden")||h===e.target&&k===e.target||(r.classList.add("project-options-isHidden"),document.removeEventListener("click",t))};document.addEventListener("click",t)}));const L=document.createElement("input");L.classList.add("project-modifyInput"),L.setAttribute("aria-label","Enter new project name, text input"),L.value=d.textContent,L.style.display="none";const y=document.createElement("div"),E=document.createElement("button"),g=document.createElement("button");E.textContent="RENAME",g.textContent="CANCEL",y.classList.add("modifyProject-options"),E.classList.add("addButton"),g.classList.add("cancelButton"),y.appendChild(E),y.appendChild(g),a.appendChild(y),y.style.display="none",s.insertBefore(L,i),h.addEventListener("click",(()=>{i.disabled=!0,L.style.display="block",d.style.display="none",y.style.display="flex",L.value=d.textContent,a.classList.add("project-isModifyState"),s.classList.add("project-btn-isModifyState"),L.focus()})),E.addEventListener("click",(t=>{let e=L.value;if(e=e.charAt(0).toUpperCase()+e.slice(1),t.stopPropagation(),""===e)return b("The project name cannot be empty"),void f();d.textContent=e,g.click(),function(t,e){u[e].tabName=t}(e,s.getAttribute("data-project-index"))})),g.addEventListener("click",(()=>{d.style.display="inline-block",L.style.display="none",y.style.display="none",a.classList.remove("project-isModifyState"),s.classList.remove("project-btn-isModifyState"),i.disabled=!1,s.click()})),k.addEventListener("click",(t=>{t.stopPropagation(),u.splice(s.getAttribute("data-project-index"),1),q.removeChild(a),function(){const t=document.querySelectorAll("[data-project-index]");let e=0;t.forEach((t=>{t.setAttribute("data-project-index",`${e}`),e+=1}))}(),x()})),L.addEventListener("keydown",(t=>{"Enter"===t.key?E.click():"Escape"===t.key&&g.click()})),S(s),C(),v()}t.addEventListener("click",(function(){e.classList.toggle("darkTheme")})),n.addEventListener("click",(function(){document.documentElement.clientWidth<=425&&(a.classList.toggle("nav-expanded-vertical"),a.classList.remove("nav-hidden-horizontal"),s()),document.documentElement.clientWidth>425&&(a.classList.toggle("nav-hidden-horizontal"),a.classList.remove("nav-expanded-vertical"),s())})),j.addEventListener("click",(()=>{if("block"===document.querySelector(".projectMakerForm").style.display)return b("You must complete the form you started!"),f(),void document.querySelector(".projectMakerForm-input").focus();document.querySelector(".projectMakerForm").style.display="block",document.querySelector(".projectMakerForm-input").focus()})),document.querySelectorAll(".js-tab").forEach((t=>{t.addEventListener("click",(()=>{S(t)}))})),window.onload=()=>{"dark"===localStorage.getItem("theme")?e.classList.add("darkTheme"):e.classList.remove("darkTheme"),function(t){const e=JSON.parse(localStorage.getItem("Projects"));for(let t=0;t<e.length;t+=1)u.push(e[t]);for(let e=0;e<u.length;e+=1)t(u[e].tabName,e)}(w),s(),function(){const t=document.createElement("form"),e=document.createElement("label"),n=document.createElement("input"),a=document.createElement("button"),s=document.createElement("button"),o=document.createElement("div");e.setAttribute("for","projectNameInput"),e.textContent="Enter projects name",n.setAttribute("type","text"),n.setAttribute("placeholder","Project Name"),n.setAttribute("maxlength","20"),n.setAttribute("id","projectNameInput"),t.classList.add("projectMakerForm"),e.classList.add("is-visually-hidden"),n.classList.add("projectMakerForm-input"),o.classList.add("buttonContainer"),a.classList.add("addButton"),s.classList.add("cancelButton"),a.textContent="ADD",s.textContent="Cancel",t.style.display="none",o.appendChild(a),o.appendChild(s),t.appendChild(e),t.appendChild(n),t.appendChild(o),A.insertBefore(t,j),n.addEventListener("keydown",(t=>{"Enter"===t.key?(t.preventDefault(),a.click()):"Escape"===t.key&&s.click()})),a.addEventListener("click",(e=>{if(e.preventDefault(),""===n.value)return b("The project name cannot be empty!"),f(),void document.querySelector(".projectMakerForm-input").focus();const a=new T(n.value,[]);u.push(a),w(n.value,function(){const t=document.querySelectorAll("[data-project-index]");let e=!1,n=0;for(;!1===e;)void 0===t[n]?e=!0:n+=1;return n}()),t.style.display="none",n.value=""})),s.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none"}))}(),function(){const t=document.createElement("div"),e=document.createElement("i"),n=document.createElement("p");t.classList.add("toastNt"),e.classList.add("fa-solid","fa-bell","toastNt-icon"),n.classList.add("toastNt-message"),e.style.color="#a80505",t.setAttribute("aria-live","polite"),t.appendChild(e),t.appendChild(n),document.body.appendChild(t)}(),document.querySelector(".homeBtn").click()},window.addEventListener("beforeunload",(()=>{e.classList.contains("darkTheme")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),localStorage.setItem("Projects",JSON.stringify(u))}))})();
//# sourceMappingURL=bundle.js.map