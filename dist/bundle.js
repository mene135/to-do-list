(()=>{"use strict";const t=document.querySelector(".themeToggle"),e=document.querySelector("body"),n=document.querySelector(".menuToggle"),a=document.querySelector(".l-mainNav");function s(){a.classList.contains("nav-expanded-vertical")||!1===a.classList.contains("nav-hidden-horizontal")&&document.documentElement.clientWidth>425?n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}const d=document.querySelector(".l-displayTab");function o(){const t=document.createElement("form"),e=document.createElement("label"),n=document.createElement("input"),a=document.createElement("label"),s=document.createElement("textArea"),o=document.createElement("label"),i=document.createElement("input");e.textContent="Title:",a.textContent="Details(optional):",o.textContent="Date due:",n.classList.add("taskForm-input","taskForm-title"),s.classList.add("taskForm-textArea","taskForm-details"),i.classList.add("taskForm-input","taskForm-date"),n.setAttribute("type","text"),i.setAttribute("type","date"),n.setAttribute("required",""),i.setAttribute("required",""),s.setAttribute("rows","3"),n.setAttribute("placeHolder","What to do?"),s.setAttribute("placeHolder","e.g: How will i do it"),e.appendChild(n),a.appendChild(s),o.appendChild(i);const r=document.createElement("div"),u=document.createElement("button"),p=document.createElement("button");u.classList.add("addButton"),p.classList.add("cancelButton"),u.textContent="Add",p.textContent="Cancel",r.appendChild(u),r.appendChild(p),r.classList.add("buttonContainer"),t.classList.add("taskMakerForm","is-hidden"),t.appendChild(e),t.appendChild(a),t.appendChild(o),t.appendChild(r),d.insertBefore(t,document.querySelector(".tab-addTaskBtn")),u.addEventListener("click",(t=>{t.preventDefault();let e=n.value,a=s.value,d=i.value,o=function(){let t=0,e=!1,n=parseInt(document.querySelector(".is-active").getAttribute("data-project-index"));for(let a=0;a<C.length;a++)if(a===n){let n=0;for(;!1===e;){if(void 0===C[a].tabTasks[n])return e=!0,t;n++,t++}}else for(let e=0;e<C[a].tabTasks.length;e++)t++}();if(""===e)return void alert("You must fill out the Title field");""===d&&(d="No due date"),p.click();let r=document.querySelector(".is-active").getAttribute("data-project-index"),u=new l(e,a,d,!1,!1,o);C[r].tabTasks.push(u),c(e,a,d,!1,!1,o)})),p.addEventListener("click",(e=>{e.preventDefault(),t.classList.toggle("is-hidden")}))}function i(){const t=document.createElement("button");t.textContent="Add task",t.classList.add("tab-addTaskBtn"),d.appendChild(t),t.addEventListener("click",(()=>{let t=document.querySelector(".taskMakerForm");!1!==t.classList.contains("is-hidden")?t.classList.toggle("is-hidden"):alert("Finish the form you started")}))}class l{constructor(t,e,n,a,s,d){this.title=t,this.details=e,this.date=n,this.important=a,this.checked=s,this.index=d}}function c(t,e,n,a,s,d){const o=document.querySelector(".tab-tasksContainer"),i=document.createElement("li");i.classList.add("task");const l=document.createElement("button"),c=document.createElement("i"),r=document.createElement("i"),u=document.createElement("span");l.classList.add("task-checkedCircleBtn"),c.classList.add("fa-regular","fa-circle"),r.classList.add("fa-solid","fa-circle-check"),u.classList.add("is-visually-hidden"),c.style.color="var(--primary)",r.style.color="var(--secondary)",l.appendChild(c),l.appendChild(r),l.appendChild(u),i.appendChild(l),i.setAttribute("data-task-index",`${d}`);const p=document.createElement("div"),m=document.createElement("h4"),h=document.createElement("p"),k=document.createElement("div");p.classList.add("taskText"),m.classList.add("task-title"),h.classList.add("task-details"),k.classList.add("task-date"),m.textContent=`${t}`,""!==e&&(h.textContent=`${e}`),k.textContent=`${n}`,p.appendChild(m),p.appendChild(h),i.appendChild(p),i.appendChild(k);const b=document.createElement("button"),y=document.createElement("i"),L=document.createElement("i"),f=document.createElement("span");b.classList.add("task-important"),y.classList.add("fa-regular","fa-star","emptyStar"),L.classList.add("fa-solid","fa-star","yellowStar"),f.classList.add("is-visually-hidden"),y.style.color="var(--primary)",L.style.color="#f1bf13",!0===a?(y.style.display="none",f.textContent="Important"):(L.style.display="none",f.textContent="Not Important"),!0===s?(c.style.display="none",l.setAttribute("aria-pressed","true"),u.textContent="Checked",m.classList.add("task-crossedOut"),h.classList.add("task-crossedOut")):(r.style.display="none",l.setAttribute("aria-pressed","false"),u.textContent="Unchecked",m.classList.remove("task-crossedOut"),h.classList.remove("task-crossedOut")),b.appendChild(y),b.appendChild(L),b.appendChild(f),i.appendChild(b);const E=document.createElement("button"),v=document.createElement("i");E.classList.add("taskOptionsBtn"),v.classList.add("fa-solid","fa-ellipsis-vertical"),E.appendChild(v),i.appendChild(E);const g=document.createElement("ul"),x=document.createElement("li"),S=document.createElement("li"),T=document.createElement("button"),A=document.createElement("button");g.classList.add("task-optionsContainer","task-optionsContainer-isHidden"),T.textContent="MODIFY",A.textContent="DELETE",T.classList.add("taskOptions-modifyBtn"),A.classList.add("taskOptions-deleteBtn"),x.appendChild(T),S.appendChild(A),g.appendChild(x),g.appendChild(S),E.appendChild(g),i.addEventListener("mousedown",(()=>{i.classList.add("task-shrink")})),i.addEventListener("mouseup",(()=>{i.classList.remove("task-shrink")})),i.addEventListener("mouseout",(()=>{i.classList.remove("task-shrink")})),l.addEventListener("click",(()=>{if(!0===s){c.style.display="inline",r.style.display="none",l.setAttribute("aria-pressed","false"),u.textContent="Unchecked",s=!1;for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)C[t].tabTasks[e].index===d&&(C[t].tabTasks[e].checked=!1);m.classList.remove("task-crossedOut"),h.classList.remove("task-crossedOut")}else{c.style.display="none",r.style.display="inline",l.setAttribute("aria-pressed","true"),u.textContent="Checked",s=!0;for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)C[t].tabTasks[e].index===d&&(C[t].tabTasks[e].checked=!0);m.classList.add("task-crossedOut"),h.classList.add("task-crossedOut")}})),b.addEventListener("click",(()=>{if(1==a){y.style.display="inline",L.style.display="none",f.textContent="Important",a=!1;for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)C[t].tabTasks[e].index===d&&(C[t].tabTasks[e].important=!1)}else{y.style.display="none",L.style.display="inline",f.textContent="Not important",a=!0;for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)C[t].tabTasks[e].index===d&&(C[t].tabTasks[e].important=!0)}})),E.addEventListener("click",(()=>{g.classList.toggle("task-optionsContainer-isHidden")})),E.addEventListener("blur",(()=>{const t=e=>{g.classList.contains("task-optionsContainer-isHidden")||T===e.target&&A===e.target||(g.classList.add("task-optionsContainer-isHidden"),document.removeEventListener("click",t))};document.addEventListener("click",t)})),A.addEventListener("click",(()=>{for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)C[t].tabTasks[e].index===d&&C[t].tabTasks.splice(e,1);o.removeChild(i),function(t){for(let e=0;e<C.length;e++)for(let n=0;n<C[e].tabTasks.length;n++)t<=C[e].tabTasks[n].index&&(C[e].tabTasks[n].index=C[e].tabTasks[n].index-1)}(d),document.querySelector(".is-active").click()})),x.addEventListener("click",(()=>{!function(t){t.style.display="none";const e=document.createElement("form"),n=document.createElement("label"),a=document.createElement("input"),s=document.createElement("label"),d=document.createElement("textArea"),o=document.createElement("label"),i=document.createElement("input");n.textContent="Title:",s.textContent="Details(optional):",o.textContent="Date due:",a.classList.add("taskForm-input","taskForm-title"),d.classList.add("taskForm-textArea","taskForm-details"),i.classList.add("taskForm-input","taskForm-date"),a.value=t.querySelector(".task-title").textContent,d.value=t.querySelector(".task-details").textContent,i.value=t.querySelector(".task-date").textContent,a.setAttribute("type","text"),i.setAttribute("type","date"),a.setAttribute("required",""),i.setAttribute("required",""),d.setAttribute("rows","3"),a.setAttribute("placeHolder","What to do?"),d.setAttribute("placeHolder","e.g: How will i do it"),n.appendChild(a),s.appendChild(d),o.appendChild(i);const l=document.createElement("div"),c=document.createElement("button"),r=document.createElement("button");c.classList.add("addButton"),r.classList.add("cancelButton"),c.textContent="Modify",r.textContent="Cancel",l.appendChild(c),l.appendChild(r),l.classList.add("buttonContainer"),e.classList.add("taskMakerForm"),e.appendChild(n),e.appendChild(s),e.appendChild(o),e.appendChild(l);let u=document.querySelector(".tab-tasksContainer");console.log("modify work"),u.insertBefore(e,t),c.addEventListener("click",(e=>{e.preventDefault();let n=a.value,s=d.value,o=i.value;""===o&&(o="No due date");let l=parseFloat(t.getAttribute("data-task-index")),c=document.querySelector(".is-active").getAttribute("data-project-index");C[c].tabTasks.forEach((t=>{t.index===l&&(t.title=n,t.details=s,t.date=o)})),r.click(),document.querySelector(".is-active").click(),t.style.display="block"})),r.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("is-hidden")}))}(i)})),o.appendChild(i)}const r=document.querySelector(".projectSection"),u=document.querySelector(".addProjectBtn"),p=document.querySelector(".js-projectSection-content");function m(t,e){t=t.charAt(0).toUpperCase()+t.slice(1);const n=document.createElement("li"),a=document.createElement("button"),s=document.createElement("i"),d=document.createElement("span"),l=document.createElement("button"),c=document.createElement("span"),r=document.createElement("i");n.classList.add("project"),a.classList.add("project-btn","button-primarySkin","js-tab"),s.classList.add("fa-solid","fa-bars"),d.classList.add("project-name"),l.classList.add("project-optionsBtn"),c.classList.add("is-visually-hidden"),r.classList.add("fa-solid","fa-ellipsis-vertical","project-optionsIcon"),a.setAttribute("data-project-index",`${e}`),l.setAttribute("tabIndex","0"),l.setAttribute("aria-controls","options"),d.textContent=t,c.textContent="Options",l.appendChild(r),l.appendChild(c),a.appendChild(s),a.appendChild(d),a.appendChild(l),n.appendChild(a),p.appendChild(n),a.addEventListener("click",(()=>{j(a),i(),o()}));const u=document.createElement("ul"),m=document.createElement("li"),h=document.createElement("li"),k=document.createElement("button"),b=document.createElement("button");k.textContent="MODIFY",b.textContent="DELETE",u.classList.add("project-options","project-options-isHidden"),u.setAttribute("id","options"),k.classList.add("project-modifyOptionBtn"),m.appendChild(k),h.appendChild(b),u.appendChild(m),u.appendChild(h),a.appendChild(u),l.addEventListener("click",(()=>{u.classList.toggle("project-options-isHidden")})),l.addEventListener("blur",(()=>{const t=e=>{u.classList.contains("project-options-isHidden")||k===e.target&&b===e.target||(u.classList.add("project-options-isHidden"),document.removeEventListener("click",t))};document.addEventListener("click",t)}));const y=document.createElement("input");y.classList.add("project-modifyInput"),y.setAttribute("aria-label","Enter new project name, text input"),y.value=d.textContent,y.style.display="none";const L=document.createElement("div"),f=document.createElement("button"),E=document.createElement("button");f.textContent="RENAME",E.textContent="CANCEL",L.classList.add("modifyProject-options"),f.classList.add("addButton"),E.classList.add("cancelButton"),L.appendChild(f),L.appendChild(E),n.appendChild(L),L.style.display="none",a.insertBefore(y,l),k.addEventListener("click",(()=>{l.disabled=!0,y.style.display="block",d.style.display="none",L.style.display="flex",y.value=d.textContent,n.classList.add("project-isModifyState"),a.classList.add("project-btn-isModifyState"),y.focus()})),f.addEventListener("click",(e=>{var n,s;t=(t=y.value).charAt(0).toUpperCase()+t.slice(1),e.stopPropagation(),""!==t?(d.style.display="inline-block",d.textContent=t,E.click(),n=t,s=a.getAttribute("data-project-index"),C[s].tabName=n):alert("The project name cannot be empty")})),E.addEventListener("click",(()=>{d.style.display="inline-block",y.style.display="none",L.style.display="none",n.classList.remove("project-isModifyState"),a.classList.remove("project-btn-isModifyState"),l.disabled=!1,a.click()})),b.addEventListener("click",(t=>{t.stopPropagation(),!0===confirm("Are you sure you want to delete this project")&&(C.splice(a.getAttribute("data-project-index"),1),p.removeChild(n),function(){let t=document.querySelectorAll("[data-project-index]"),e=0;t.forEach((t=>{t.setAttribute("data-project-index",`${e}`),e++}))}(),A())})),y.addEventListener("keydown",(t=>{"Enter"===t.key?f.click():"Escape"===t.key&&E.click()})),j(a),i(),o()}Math.pow(10,8);const h=36e5;function k(t){const e=t/h;return Math.trunc(e)}function b(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}let y={};function L(){return y}function f(t,e){const n=L(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=b(t),d=s.getDay(),o=(d<a?7:0)+d-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}const C=[],E=[],v=[],g=[],x=[];const S=document.querySelector(".l-displayTab"),T=document.querySelectorAll(".js-tab");function A(){S.innerHTML=""}function j(t){!function(t){const e=document.querySelector(".is-active");e!==t&&(T.forEach((e=>{t===e&&e.classList.add("is-active")})),null!==e&&e.classList.remove("is-active"))}(t),A(),function(t){const e=document.createElement("div");e.classList.add("tab-title");const n=t.querySelector("span").textContent,a=document.createElement("h3");a.textContent=n,a.classList.add("tab-title-heading");const s=document.createElement("ul");s.classList.add("tab-tasksContainer"),e.appendChild(a),S.appendChild(e),S.appendChild(s)}(t),function(){let t=document.querySelector(".is-active");if(null!=t&&(t.classList.contains("homeBtn")&&(t.classList.contains("homeBtn-allTasks")?(function(){for(;0!=E.length;)E.pop();for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)E.push(C[t].tabTasks[e])}(),E.forEach((t=>{c(t.title,t.details,t.date,t.important,t.checked,t.index)}))):t.classList.contains("homeBtn-important")?(function(){for(;0!=v.length;)v.pop();for(let t=0;t<C.length;t++)for(let e=0;e<C[t].tabTasks.length;e++)!0===C[t].tabTasks[e].important&&v.push(C[t].tabTasks[e])}(),v.forEach((t=>{c(t.title,t.details,t.date,t.important,t.checked,t.index)}))):t.classList.contains("homeBtn-today")?(function(){for(;0!=g.length;)g.pop();let t=new Date,e=t.getDate(),n=t.getMonth(),a=t.getFullYear();t=new Date(a,n,e);for(let e=0;e<C.length;e++)for(let n=0;n<C[e].tabTasks.length;n++){let a=k((s=t,+b(C[e].tabTasks[n].date)-+b(s)));a<24&&a>=0&&g.push(C[e].tabTasks[n])}var s}(),g.forEach((t=>{c(t.title,t.details,t.date,t.important,t.checked,t.index)}))):t.classList.contains("homeBtn-thisWeek")&&(function(){for(;0!=x.length;)x.pop();let t=new Date;for(let a=0;a<C.length;a++)for(let s=0;s<C[a].tabTasks.length;s++)1==(e=t,+f(C[a].tabTasks[s].date,n={weekStartsOn:1})==+f(e,n))&&x.push(C[a].tabTasks[s]);var e,n}(),x.forEach((t=>{c(t.title,t.details,t.date,t.important,t.checked,t.index)})))),t.classList.contains("project-btn"))){let t=document.querySelector(".is-active").getAttribute("data-project-index");if(0===C[t].tabTasks.length)return;C[t].tabTasks.forEach((t=>{c(t.title,t.details,t.date,t.important,t.checked,t.index)}))}}()}class q{constructor(t,e){this.tabName=t,this.tabTasks=e}}t.addEventListener("click",(function(){e.classList.toggle("darkTheme")})),n.addEventListener("click",(function(){document.documentElement.clientWidth<=425&&(a.classList.toggle("nav-expanded-vertical"),a.classList.remove("nav-hidden-horizontal"),s()),document.documentElement.clientWidth>425&&(a.classList.toggle("nav-hidden-horizontal"),a.classList.remove("nav-expanded-vertical"),s())})),u.addEventListener("click",(()=>{if("block"===document.querySelector(".projectMakerForm").style.display)return"You must complete the form you started!",document.querySelector(".toastNt-message").textContent="You must complete the form you started!",function(){const t=document.querySelector(".toastNt");t.classList.add("toastNt-isActive"),setTimeout((()=>{t.classList.remove("toastNt-isActive")}),3e3)}(),void document.querySelector(".projectMakerForm-input").focus();document.querySelector(".projectMakerForm").style.display="block",document.querySelector(".projectMakerForm-input").focus()})),T.forEach((t=>{t.addEventListener("click",(()=>{j(t)}))})),window.onload=()=>{"dark"===localStorage.getItem("theme")?e.classList.add("darkTheme"):e.classList.remove("darkTheme"),function(){let t=JSON.parse(localStorage.getItem("Projects"));for(let e=0;e<t.length;e++)C.push(t[e]);for(let t=0;t<C.length;t++)m(C[t].tabName,t)}(),s(),function(){const t=document.createElement("form"),e=document.createElement("label"),n=document.createElement("input"),a=document.createElement("button"),s=document.createElement("button"),d=document.createElement("div");e.setAttribute("for","projectNameInput"),e.textContent="Enter projects name",n.setAttribute("type","text"),n.setAttribute("placeholder","Project Name"),n.setAttribute("maxlength","20"),n.setAttribute("id","projectNameInput"),t.classList.add("projectMakerForm"),e.classList.add("is-visually-hidden"),n.classList.add("projectMakerForm-input"),d.classList.add("buttonContainer"),a.classList.add("addButton"),s.classList.add("cancelButton"),a.textContent="ADD",s.textContent="Cancel",t.style.display="none",d.appendChild(a),d.appendChild(s),t.appendChild(e),t.appendChild(n),t.appendChild(d),r.insertBefore(t,u),n.addEventListener("keydown",(t=>{"Enter"===t.key?(t.preventDefault(),a.click()):"Escape"===t.key&&s.click()})),a.addEventListener("click",(e=>{if(e.preventDefault(),""===n.value)return void alert("The project name cannot be empty");const a=new q(n.value,[]);C.push(a),m(n.value,function(){const t=document.querySelectorAll("[data-project-index]");let e=!1,n=0;for(;!1===e;)void 0===t[n]?e=!0:n++;return n}()),t.style.display="none",n.value=""})),s.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none"}))}(),function(){const t=document.createElement("div"),e=document.createElement("i"),n=document.createElement("p");t.classList.add("toastNt"),e.classList.add("fa-solid","fa-bell","toastNt-icon"),n.classList.add("toastNt-message"),e.style.color="#a80505",t.appendChild(e),t.appendChild(n),document.body.appendChild(t)}(),document.querySelector(".homeBtn").click()},window.addEventListener("beforeunload",(()=>{e.classList.contains("darkTheme")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),localStorage.setItem("Projects",JSON.stringify(C))}))})();
//# sourceMappingURL=bundle.js.map